!function(a){jQuery.fn.extend({formValidate:function(c,d){var b=this,f,e={error:false,results:[]},g='[data-role*="validation"]';if(!d){g+=":visible";}a(g,b).each(function(){var h=a(this).validate(c);
f=h.execute().getError();if(f.error){e.error=true;e.results.push({element:h,message:f.errorMessage,type:f.errorType});}return true;});b.getResult=function(){return e;
};return b;},validate:function(c){var b=this,e,d={checks:{required:{check:"chkRequired",handler:["blur"]},"required-check":{check:"chkRequiredCheck",handler:[]},"max-length":{check:"chkMaxLength",handler:["blur","keydown","paste","cut"]},"min-length":{check:"chkMinLength",handler:["blur"]},"max-num":{check:"chkMaxNum",handler:["blur","keydown","paste","cut"]},"min-num":{check:"chkMinNum",handler:["blur","keydown","paste","cut"]},format:{check:"chkFormat",handler:["blur","keydown","paste","cut"]},regexp:{check:"chkRegexp",handler:["blur","keydown","paste","cut"]}},format:{number:/^[0-9]*$/,"half-char":/^[0-9A-Za-z]*$/,half:/^[\x20-\x7e]*$/,"half-kana":/^[ｦ-ﾝ]*$/,url:/^[0-9A-Za-z-_.!~*'()]*$%/,mail:/^(?:(?:(?:(?:[a-zA-Z0-9_!#\$\%&'*+/=?\^`{}~|\-]+)(?:\.(?:[a-zA-Z0-9_!#\$\%&'*+/=?\^`{}~|\-]+))*)|(?:"(?:\\[^\r\n]|[^\\"])*")))\@(?:(?:(?:(?:[a-zA-Z0-9_!#\$\%&'*+/=?\^`{}~|\-]+)(?:\.(?:[a-zA-Z0-9_!#\$\%&''*+/=?\^`{}~|\-]+))*)|(?:\[(?:\\\S|[\x21-\x5a\x5e-\x7e])*\])))$/,"all-kana":/^[ァ-ヶ]*$/,"all-char":/^[^\x20-\x7eｱ-ﾝﾞﾟｧ-ｫｬ-ｮｰ]*$/},MESSAGES:{REQUIRED:"{title}を入力してください。","REQUIRED-CHECK":"{title}を選択してください。","MAX-LENGTH":"{title}は{length}文字以下で入力してください。","MIN-LENGTH":"{title}は{length}文字以上で入力してください。","MAX-NUM":"{num}以内の数値を入力してください。","MIN-NUM":"{num}以上の数値を入力してください。",REGEXP:"不正な文字が含まれています。",FORMAT:{NUMBER:"{title}は半角数字を入力してください。","HALF-CHAR":"{title}は半角英数字で入力してください。",HALF:"{title}は半角で入力してください。","HALF-KANA":"{title}は半角カナで入力してください。",URL:"{title}は有効なURLを入力してください。",MAIL:"{title}は有効なメールアドレスを入力してください。","ALL-KANA":"{title}は全角カナで入力してください。","ALL-CHAR":"{title}は全角で入力してください。"}},chkRequired:function(g,f){if(g&&!f){b.error=true;
b.itemError=true;b.errorMessage=c.MESSAGES.REQUIRED;}return b;},chkRequiredCheck:function(j,i){var h=b.attr("type"),g=b.attr("name"),f=false;if(j){if(h==="radio"||h==="checkbox"){f=!a('input[name="'+g+'"]:checked').size();
}else{f=!i;}if(f){b.error=true;b.itemError=true;b.errorMessage=c.MESSAGES["REQUIRED-CHECK"];}}return b;},chkMaxLength:function(f,g){if(f<g.length){b.error=true;
b.itemError=true;b.errorMessage=c.MESSAGES["MAX-LENGTH"].replace(/{length}/g,f);}return b;},chkMinLength:function(f,g){if(g.length<f){b.error=true;b.itemError=true;
b.errorMessage=c.MESSAGES["MIN-LENGTH"].replace(/{length}/g,f);}return b;},chkMaxNum:function(f,g){f=parseInt(f,10);g=parseInt(g,10);if(f<g){b.error=true;
b.itemError=true;b.errorMessage=c.MESSAGES["MAX-NUM"].replace(/{num}/g,f);}return b;},chkMinNum:function(f,g){f=parseInt(f,10);g=parseInt(g,10);if(g<f){b.error=true;
b.itemError=true;b.errorMessage=c.MESSAGES["MIN-NUM"].replace(/{num}/g,f);}return b;},chkFormat:function(g,f){if(g==="url"){f=uriEncodeComponent(f);}if(!f.match(c.format[g])&&f){b.error=true;
b.itemError=true;b.errorMessage=c.MESSAGES.FORMAT[g.toUpperCase()];}return b;},chkRegexp:function(f,g){if(g.match(f)){b.error=true;b.itemError=true;b.errorMessage=c.MESSAGES.REGEXP;
}return b;},execute:function(i){var h,g,j,f;b.itemError=false;for(h in c.checks){j=b.data(h);if(j&&!b.itemError){f=c.checks[h];if(i&&a.inArray(i.type,f.handler)===-1){continue;
}g=a.trim(b.val());b[f.check](j,g);b.errorType=h;b.errorMessage=b.errorMessage&&b.errorMessage.replace(/\{title\}/g,b.data("title"));b.trigger("inputcheck",{error:b.itemError,errorType:h,errorMessage:b.errorMessage});
}}return b;},getError:function(){return{error:b.error,errorMessage:b.errorMessage,errorType:b.errorType};},setValidation:function(){b.bind({blur:b.execute,keydown:function(f){if(f.keyCode===9||((f.ctrlKey||f.metaKey)&&(f.keyCode===86||f.keyCode===88))){return true;
}setTimeout(function(){b.execute(f);},0);},paste:function(f){setTimeout(function(){b.execute(f);},0);},cut:function(f){setTimeout(function(){b.execute(f);
},0);}});return b;}};c=(function(g,f){return h();function h(){for(e in g){if(!f[e]){f[e]={};}switch(typeof g[e]){case"object":h(g[e],f[e]);break;default:f[e]=g[e];
break;}}return f;}})(c,d);for(e in c.checks){b[c.checks[e].check]=c[c.checks[e].check];}b.error=false;b.errorType;b.itemError=false;b.errorMessage;b.MESSAGES=c.MESSAGES;
b.execute=c.execute;b.getError=c.getError;b.setValidation=c.setValidation;return b;}});}.call(window,jQuery);